# 工具文档优化计划

根据对现有工具代码和文档的分析，以及用户对证件照生成器文档目标受众的澄清，制定以下文档优化计划：

**整体目标：**

根据现有代码实现，将 `tools-doc` 目录下各个工具的文档转换为更准确、更具指导性的说明文档。

**具体计划：**

1.  **进制转换器 (`tools-doc/binaryConverter/toBinary.md`) 优化：**
    *   **目标受众：** 主要面向最终用户，少量补充技术细节。
    *   **优化内容：**
        *   在“功能特性”中补充说明十六进制输入支持可选的 `0x` 或 `0X` 前缀。
        *   在“功能特性”或“使用方法”中明确说明当前版本不支持负数转换。
        *   在“功能特性”中增加对“一键复制”功能的描述，提及复制成功后的短暂提示。
        *   检查并确保“使用方法”中的步骤与 `toBinary.html` 的实际交互一致。
        *   保留现有的文件结构、技术栈和待办事项部分。

2.  **文件大小压缩工具 (`tools-doc/fileCompressor/fileCompressor.md`) 优化：**
    *   **目标受众：** 主要面向最终用户，包含必要的部署说明。
    *   **优化内容：**
        *   将文档重写为用户使用指南的结构。
        *   **文档结构建议：**
            *   **概述：** 工具用途、支持的文件类型（PDF, JPG/JPEG, PNG）。
            *   **功能特性：** 文件上传（支持拖拽和选择）、图片压缩选项（推荐、高质量、高压缩及其区别）、PDF 压缩（后端处理）、结果展示（原始/压缩后大小、压缩率、状态）、文件下载。
            *   **使用方法：** 清晰的步骤说明（上传文件 -> 选择图片选项 -> 开始压缩 -> 查看结果 -> 下载）。
            *   **技术说明（面向部署者）：** 简要说明图片压缩在前端进行，PDF 压缩依赖后端 API (`/api/compress-pdf`)，并明确指出 PDF 压缩功能需要服务器环境安装 Ghostscript。
            *   **常见问题/故障排除 (可选):** 例如 Ghostscript 未安装的提示等。
        *   删除原规划文档中的用户画像、UI 设计、版本规划、风险评估等面向开发过程的内容。

3.  **证件照生成器 (`tools-doc/idPhotoMaker/idPhotoMaker.md`) 优化：**
    *   **目标受众：** 开发者和部署者。
    *   **优化内容：**
        *   将文档重写为开发者/部署者指南的结构。
        *   **文档结构建议：**
            *   **概述：** 工具用途、核心功能（上传、规格选择、背景替换、裁剪、下载）。
            *   **技术实现细节：**
                *   **前端 (`app/(tools)/id-photo-maker/page.tsx`)：**
                    *   文件处理：文件上传、格式/大小校验。
                    *   预览与裁剪：使用 Canvas 绘制图片和可拖拽裁剪框，如何计算裁剪区域在原始图片上的坐标和尺寸。
                    *   规格与背景：如何定义和应用预设规格（毫米、DPI、像素），背景颜色选择与前端预览（Canvas 叠加半透明遮罩）。
                    *   与后端交互：如何将裁剪后的图片数据发送到后端 API (`/api/baidu-segmentation`)。
                    *   结果处理：接收后端返回的前景图数据，在新的 Canvas 上合成背景色和前景图，生成最终图片 URL。
                *   **后端 API (`app/api/baidu-segmentation/route.ts`)：**
                    *   API 功能：接收前端发送的图片 Base64 数据。
                    *   **核心依赖：调用百度 AI 开放平台的图像分割 API 进行抠图。**
                    *   处理流程：调用百度 API -> 处理 API 响应 -> 返回前景图 Base64 数据给前端。
                    *   错误处理：后端如何处理百度 API 调用失败或文件处理错误。
            *   **依赖与配置：**
                *   **明确指出对百度 AI 开放平台的依赖。**
                *   **详细说明如何获取百度 API Key (AK) 和 Secret Key (SK)。**
                *   **说明如何在项目根目录的 `.env.local` 文件中配置 `BAIDU_API_KEY` 和 `BAIDU_SECRET_KEY` 环境变量。**
                *   提及其他前端依赖（如 React Hooks）。
            *   **部署说明：**
                *   强调部署环境需要能够访问百度 AI 开放平台 API。
                *   提醒注意环境变量的配置方式在不同部署平台上的差异。
                *   提及潜在的性能或成本考虑（如百度 API 的调用次数限制）。
            *   **代码结构：** 简要介绍 `page.tsx` 和 `route.ts` 的作用。
            *   **潜在改进/待办：** 基于原规划文档，列出与开发者相关的待办事项（如优化抠图效果、增加更多调整功能、批量处理等）。
        *   删除原规划文档中用户画像、非功能需求、UI 设计、版本规划、风险评估（非技术部分）、验收标准、时间线等面向产品/项目管理的内容。

**计划流程：**

1.  我将根据上述计划，分别对三个 Markdown 文档进行内容重写和优化。
2.  完成后，我会将优化后的文档内容呈现给你。
3.  你可以审查这些文档，提出修改意见。
4.  根据你的反馈进行调整。
5.  最终确认文档内容。
6.  询问是否需要将文档内容写入文件。
7.  请求切换到 `code` 模式执行文件写入操作。